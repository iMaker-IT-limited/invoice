<app-header></app-header>
<ion-content class="user-profile-content">
    <ion-item-divider class="sticky_header" sticky>
        <ion-title>All invoices</ion-title>
        <ion-button size="large" color="theme" class="new_button" (click)="onCreateContact()"> + New</ion-button>
        <!-- <ion-button class="new_button" color="premium" fill="solid" slot="end"
            (click)="showCreditNotesToggle = !showCreditNotesToggle">
            <ion-icon name="menu-outline"></ion-icon>
        </ion-button> -->

        <!-- <div class="menu_toggle" *ngIf="showCreditNotesToggle">
            <ul>
                <li>
                    <ion-button class="listbutton" expand="full" fill="clear" (click)="show = !show">
                        <ion-icon slot="start" size="medium" icon-only name="cloud-upload-sharp"></ion-icon>
                        <span>
                            Upload contact import
                        </span>
                    </ion-button>
                </li>
                <li>
                    <ion-button class="listbutton" expand="full" fill="clear" (click)="getTestCsv()">
                        <ion-icon slot="start" size="medium" icon-only name=""></ion-icon>
                        <span>
                            Get CSV
                        </span>
                    </ion-button>
                </li>
                <li>
                    <ion-button class="listbutton" expand="full" fill="clear" (click)="loadCSV()">
                        <ion-icon slot="start" size="medium" icon-only name="cloud-upload-sharp"></ion-icon>
                        <span>
                            Bulk import
                        </span>
                    </ion-button>
                </li>
                <li>
                    <ion-button class="listbutton" expand="full" fill="clear" (click)="exportCSV()">
                        <ion-icon slot="start" size="medium" icon-only name="cloud-download-sharp"></ion-icon>
                        <span>
                            Bulk export
                        </span>
                    </ion-button>
                </li>
            </ul>
        </div> -->
    </ion-item-divider>
    <ion-progress-bar *ngIf="!invoicesList" color="theme" type="indeterminate"></ion-progress-bar>

    <!-- <ion-slides style="background: #f9f9fb; border-radius: 20px;" pager="true" [options]="slideOpts">
        <ion-slide>
            <ion-card style="box-shadow: none;">
                <ion-card-header>
                    Total Outstanding Receivables
                </ion-card-header>
                <ion-card-content>
                    HKD 0.00
                </ion-card-content>
            </ion-card>
        </ion-slide>
        <ion-slide>
            <ion-card style="box-shadow: none;">
                <ion-card-header>
                    Total Outstanding Receivables
                </ion-card-header>
                <ion-card-content>
                    HKD 0.00
                </ion-card-content>
            </ion-card>
        </ion-slide>
        <ion-slide>
            <ion-card style="box-shadow: none;">
                <ion-card-header>
                    Total Outstanding Receivables
                </ion-card-header>
                <ion-card-content>
                    HKD 0.00
                </ion-card-content>
            </ion-card>
        </ion-slide>
        <ion-slide>
            <ion-card style="box-shadow: none;">
                <ion-card-header>
                    Total Outstanding Receivables
                </ion-card-header>
                <ion-card-content>
                    HKD 0.00
                </ion-card-content>
            </ion-card>
        </ion-slide>
        <ion-slide>
            <ion-card style="box-shadow: none;">
                <ion-card-header>
                    Total Outstanding Receivables
                </ion-card-header>
                <ion-card-content>
                    HKD 0.00
                </ion-card-content>
            </ion-card>
        </ion-slide>
    </ion-slides> -->

    <!-- <div>
        <ion-card>
            <ion-card-header style="text-align: center; color: var(--ion-color-theme); font-size: larger;">Make
               Make the Most Payable Invoice Ever
            </ion-card-header>
            <ion-card-content>
                <ion-row>
                    <ion-col class="left" style="text-align: center;">
                        <div>
                            <img class="img" style="margin-left: auto; margin-right: auto; display: block;"
                                src="https://my.freshbooks.com/assets/images/getting-started-tiles/invoice-8ed49fbe2b0199b6cdb5f2d55094c3a2.svg"
                                alt="">
                        </div>

                        <ion-title>Invoice like a Pro
                        </ion-title>

                        <p>See how to create invoices quickly and get paid even faster.</p>

                    </ion-col>
                    <ion-col style="text-align: center;">
                        <div>
                            <img class="img" style="margin-left: auto; margin-right: auto; display: block;"
                                src="https://my.freshbooks.com/assets/images/getting-started-tiles/client-standing-dc9c1049e1d5aca55d3d9907648e28be.svg"
                                alt="">
                        </div>

                        <ion-title>Outstanding Client Revenue
                        </ion-title>

                        <p>Know exactly where your client stands with any outstanding invoices.</p>

                    </ion-col>
                    <ion-col style="text-align: center;">
                        <div>
                            <img class="img"
                                src="https://my.freshbooks.com/assets/images/getting-started-tiles/client-import-8caf0d0756e17609370f458e89f05c1a.svg"
                                alt="">
                        </div>

                        <ion-title>Have Lots of Clients?
                        </ion-title>

                        <p>Automatically import your clients from</p>
                        <p>a .csv file. <span>Import now</span></p>

                    </ion-col>
                </ion-row>
            </ion-card-content>

        </ion-card>
    </div> -->

    <div *ngIf="!grid">
        <ion-row class="new">
            <ion-col class="col-left" style="padding: 0px;" size="12">
                <!-- ngx - table -->
                <ngx-datatable [rows]="invoicesList" [ngClass]="tableStyle" [rowHeight]="auto" [headerHeight]="50"
                    [columnMode]="'force'" [rowClass]="getRowClass.bind(this)" [limit]="20" [footerHeight]="50">
                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            DATE
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <!-- <ion-button fill="clear" color="theme" (click)="onDetailPage(row)">
                    {{row['Display Name']}}               
                  </ion-button> -->
                            <div>{{row['Invoice Date'].substring(0, 10)}}</div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            INVOICE#
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <div class="button" (click)="onDetailPage(row, invoicesList)">
                                {{row['Invoice Number']}}
                            </div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            ORDER NUMBER
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{row['Estimate Number'] || row['Invoice Number']}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            CUSTOMER NAME
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            {{row['Customer Name']}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            STATUS
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <div class="text-draft" *ngIf="row['Estimate Status'] == 'invoiced'">
                                draft
                            </div>

                            <div style="color: gray" *ngIf="row['Estimate Status'] == 'void'">
                                {{row['Estimate Status']}}
                            </div>

                            <div class="text-sent" *ngIf="row['Estimate Status'] == 'sent'">
                                {{row['Estimate Status']}}
                            </div>
                            <div class="text-closed" *ngIf="row['Estimate Status'] == 'paid'">
                                {{row['Estimate Status']}}
                            </div>
                            <div class="text-expired" *ngIf="row['Estimate Status'] == 'overdue'">
                                {{row['Estimate Status']}}
                            </div>
                            <div class="text-expired" *ngIf="row['Estimate Status'] == 'revised'">
                                {{row['Estimate Status']}}
                            </div>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            Expiry Date
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            <div class="invoiced"></div>
                            {{row['Expiry Date'].substring(0, 10)}}
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            AMOUNT
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            HKD {{row['Total']}}
                        </ng-template>
                    </ngx-datatable-column>

                    <!-- <ngx-datatable-column sortable="true">
                        <ng-template let-column="column" ngx-datatable-header-template>
                            BALANCE DUE
                        </ng-template>
                        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                            HKD {{row['Balance']}}
                        </ng-template>
                    </ngx-datatable-column> -->
                </ngx-datatable>
                <!-- ngx - table -->
            </ion-col>
        </ion-row>
    </div>

    <div *ngIf="name === 'Dan Soong'">
        Dan Soong
        <div id="sign-in-status"></div>
        <div id="sign-in"></div>
        <pre id="account-details"></pre>
    </div>

    <app-global-banner></app-global-banner>
</ion-content>
<app-global-footer></app-global-footer>